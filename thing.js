#!/usr/bin/env node
import blessed from 'blessed';
import chalk from 'chalk';
import BlessedContrib from 'blessed-contrib';
import gradient from 'gradient-string';
import chalkAnimation from 'chalk-animation';
import {game_event} from './game_events.js'
import XTerm from 'blessed-xterm'



var body = 
`[0m\r
\r
  [1;34mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m\r
[1;34mâ–‘â–‘â–‘â–‘â–‘[0m\r
   [1;5;35;46mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m\r
[1;5;35;46mâ–‘â–‘â–‘[0;1;34mâ–„â–ˆâ–€â–€â–€â–€â–ˆâ–„[0m     [1;31mâ–‘â–‘â–‘â–‘[0m\r
[1;5;35;46mâ–‘â–‘â–‘â–‘[0;1;34mâ–ˆâ–€[0m       [1;34mâ–€â–ˆ[0m  [1;31mâ–‘â–‘[0m\r
[1;34mâ–„â–€[0m           [1;31mâ–‘â–‘â–‘[0m\r
[1;34mâ–ˆâ–€[0m    [1;31mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m  [1;31mâ–ˆâ–€[0m      [1;5;35;46mâ™¦â™¦[0m\r
             [1;31mâ–„â–ˆ[0m  [1;31mâ™¥â™¥[0m  [1;5;35;46mâ™¦â™¦[0m\r
[1;31mâ–„â–„â–„â–„[0m      [1;35mâ–‘â–‘â–‘[0m  [1;31mâ–„â–ˆâ–€[0m [1;31mâ™¥â™¥â™¥[0m [1;5;35;46mâ™¦â™¦â™¦[0m\r
[1;31mâ–€â–€â–€â–€â–€[35mâ–‘â–‘[31mâ–€â–€â–€â–€â–€[0m  [1;31mâ™¥â™¥[0m  [1;5;35;46mâ™¦â™¦[0m\r
    [1;35mâ–‘â–‘[0m      [1;31mâ™¥â™¥â™¥[0m [1;5;35;46mâ™¦â™¦â™¦[0m\r
   [1;35mâ–‘â–‘[0m    [1;31mâ™¥â™¥â™¥â™¥[5;35;46mâ™¦â™¦â™¦[0m\r
[1;35mâ–‘â–‘â–‘â–‘â–‘[0m   [1;31mâ™¥â™¥â™¥[0m  [1;5;35;46mâ™¦â™¦[0m\r
    [1;31mâ™¥â™¥â™¥â™¥[0m\r
[1;31mâ™¥â™¥â™¥â™¥â™¥[0m\r
[1;31mâ™¥â™¥[0m\r
`
var caleb =
`
[48;5;241m [38;5;241;48;5;241mâ–„[38;5;242;48;5;241mâ–„â–„[38;5;242;48;5;242mâ–„[48;5;242m [38;5;241;48;5;241mâ–„[48;5;241m [38;5;241;48;5;241mâ–„â–„[38;5;59;48;5;59mâ–„â–„[38;5;241;48;5;59mâ–„[38;5;241;48;5;241mâ–„â–„â–„[38;5;241;48;5;59mâ–„[38;5;241;48;5;241mâ–„â–„[38;5;59;48;5;59mâ–„[38;5;240;48;5;240mâ–„â–„â–„â–„[48;5;240m [38;5;240;48;5;240mâ–„â–„â–„[48;5;240m [38;5;240;48;5;240mâ–„[38;5;240;48;5;239mâ–„â–„â–„[38;5;239;48;5;239mâ–„â–„â–„â–„[48;5;239m   [38;5;239;48;5;239mâ–„â–„â–„â–„â–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„â–„[38;5;239;48;5;239mâ–„â–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„â–„[m\r
[38;5;241;48;5;241mâ–„[38;5;242;48;5;242mâ–„[48;5;242m  [38;5;242;48;5;242mâ–„â–„[38;5;241;48;5;241mâ–„[48;5;241m  [38;5;59;48;5;241mâ–„[48;5;59m [38;5;59;48;5;59mâ–„[38;5;241;48;5;241mâ–„[48;5;241m [38;5;241;48;5;241mâ–„[38;5;241;48;5;59mâ–„[48;5;59m [38;5;240;48;5;241mâ–„[38;5;59;48;5;241mâ–„[38;5;59;48;5;59mâ–„[38;5;240;48;5;240mâ–„â–„[48;5;240m [38;5;240;48;5;240mâ–„â–„â–„[38;5;59;48;5;240mâ–„[38;5;241;48;5;240mâ–„â–„â–„[38;5;59;48;5;240mâ–„[38;5;240;48;5;240mâ–„â–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„[48;5;239m  [38;5;239;48;5;239mâ–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„[48;5;239m [38;5;239;48;5;239mâ–„â–„[48;5;239m [38;5;239;48;5;239mâ–„[m\r
[38;5;241;48;5;241mâ–„â–„[38;5;242;48;5;242mâ–„â–„â–„â–„[38;5;241;48;5;241mâ–„â–„[48;5;241m [38;5;241;48;5;59mâ–„â–„â–„[38;5;241;48;5;241mâ–„â–„[38;5;242;48;5;241mâ–„[38;5;241;48;5;241mâ–„â–„[38;5;241;48;5;59mâ–„â–„[38;5;241;48;5;241mâ–„[38;5;59;48;5;59mâ–„[38;5;240;48;5;240mâ–„â–„[38;5;59;48;5;240mâ–„[38;5;241;48;5;240mâ–„[38;5;240;48;5;59mâ–„â–„[38;5;95;48;5;95mâ–„â–„[38;5;240;48;5;59mâ–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;239mâ–„â–„[38;5;239;48;5;240mâ–„[38;5;239;48;5;239mâ–„â–„[48;5;239m [38;5;239;48;5;239mâ–„â–„â–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„[38;5;239;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„â–„[38;5;239;48;5;238mâ–„[48;5;239m  [38;5;239;48;5;239mâ–„â–„â–„â–„[m\r
[38;5;59;48;5;59mâ–„[38;5;59;48;5;241mâ–„[38;5;241;48;5;241mâ–„â–„[38;5;242;48;5;242mâ–„[38;5;241;48;5;242mâ–„[38;5;241;48;5;241mâ–„â–„â–„â–„â–„[38;5;59;48;5;59mâ–„[38;5;241;48;5;241mâ–„â–„â–„â–„â–„â–„â–„â–„[38;5;241;48;5;59mâ–„[38;5;101;48;5;59mâ–„[38;5;101;48;5;95mâ–„â–„[38;5;240;48;5;101mâ–„[38;5;239;48;5;95mâ–„[38;5;241;48;5;241mâ–„[38;5;95;48;5;95mâ–„[38;5;240;48;5;59mâ–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;238mâ–„[38;5;236;48;5;237mâ–„[38;5;235;48;5;238mâ–„[38;5;235;48;5;237mâ–„[38;5;236;48;5;237mâ–„[38;5;236;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„â–„[48;5;239m [38;5;239;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[38;5;238;48;5;238mâ–„[m\r
[38;5;59;48;5;59mâ–„â–„[38;5;241;48;5;241mâ–„[48;5;241m [38;5;241;48;5;241mâ–„[48;5;241m [38;5;241;48;5;241mâ–„â–„â–„â–„â–„[48;5;241m [38;5;241;48;5;241mâ–„[38;5;59;48;5;241mâ–„[38;5;241;48;5;241mâ–„â–„â–„â–„[38;5;101;48;5;242mâ–„[38;5;138;48;5;243mâ–„[38;5;240;48;5;95mâ–„[38;5;238;48;5;95mâ–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;237mâ–„[38;5;236;48;5;236mâ–„[38;5;236;48;5;238mâ–„[38;5;237;48;5;241mâ–„[38;5;238;48;5;240mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;237mâ–„[38;5;239;48;5;236mâ–„[38;5;239;48;5;235mâ–„â–„[38;5;238;48;5;234mâ–„[38;5;237;48;5;234mâ–„[38;5;236;48;5;235mâ–„[38;5;236;48;5;236mâ–„[38;5;237;48;5;238mâ–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„â–„[m\r
[38;5;241;48;5;241mâ–„â–„â–„â–„â–„â–„â–„â–„[48;5;241m [38;5;241;48;5;241mâ–„â–„â–„[38;5;59;48;5;59mâ–„[48;5;59m [38;5;241;48;5;241mâ–„â–„[38;5;242;48;5;241mâ–„[38;5;138;48;5;101mâ–„[38;5;95;48;5;138mâ–„[38;5;238;48;5;95mâ–„[38;5;95;48;5;59mâ–„[38;5;180;48;5;138mâ–„[38;5;223;48;5;138mâ–„[38;5;180;48;5;95mâ–„[38;5;180;48;5;239mâ–„â–„[38;5;180;48;5;95mâ–„[38;5;216;48;5;137mâ–„â–„[38;5;216;48;5;174mâ–„â–„â–„â–„[38;5;216;48;5;173mâ–„â–„[38;5;180;48;5;95mâ–„[38;5;95;48;5;237mâ–„[38;5;236;48;5;236mâ–„[38;5;238;48;5;238mâ–„â–„â–„[38;5;239;48;5;238mâ–„â–„[38;5;239;48;5;239mâ–„[48;5;239m    [38;5;239;48;5;239mâ–„â–„â–„[48;5;239m  [38;5;239;48;5;239mâ–„[48;5;239m  [m\r
[38;5;241;48;5;241mâ–„â–„â–„â–„â–„[38;5;242;48;5;241mâ–„[38;5;241;48;5;241mâ–„[48;5;241m    [38;5;241;48;5;241mâ–„[38;5;241;48;5;59mâ–„[38;5;241;48;5;241mâ–„[38;5;242;48;5;241mâ–„â–„[38;5;138;48;5;101mâ–„[38;5;239;48;5;101mâ–„[38;5;236;48;5;237mâ–„[38;5;237;48;5;237mâ–„[38;5;95;48;5;95mâ–„[38;5;180;48;5;180mâ–„[38;5;223;48;5;223mâ–„â–„â–„â–„â–„â–„[38;5;223;48;5;217mâ–„[38;5;223;48;5;216mâ–„[38;5;216;48;5;216mâ–„â–„â–„â–„â–„[38;5;216;48;5;180mâ–„[38;5;180;48;5;173mâ–„[38;5;95;48;5;239mâ–„[38;5;239;48;5;238mâ–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„â–„â–„â–„[m\r
[38;5;241;48;5;241mâ–„â–„â–„[48;5;241m  [38;5;241;48;5;242mâ–„[38;5;241;48;5;241mâ–„â–„â–„â–„â–„â–„[38;5;8;48;5;241mâ–„[38;5;181;48;5;8mâ–„[38;5;223;48;5;144mâ–„[38;5;224;48;5;187mâ–„[38;5;223;48;5;181mâ–„[38;5;181;48;5;95mâ–„[38;5;144;48;5;237mâ–„[38;5;240;48;5;238mâ–„[38;5;137;48;5;95mâ–„[38;5;216;48;5;216mâ–„[38;5;223;48;5;217mâ–„[38;5;180;48;5;223mâ–„[38;5;138;48;5;223mâ–„[38;5;137;48;5;223mâ–„[38;5;95;48;5;180mâ–„[38;5;95;48;5;216mâ–„[38;5;137;48;5;216mâ–„[38;5;180;48;5;216mâ–„â–„â–„â–„â–„â–„[38;5;180;48;5;180mâ–„[38;5;173;48;5;173mâ–„[38;5;137;48;5;137mâ–„[38;5;238;48;5;239mâ–„[38;5;95;48;5;95mâ–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[m\r
[38;5;240;48;5;59mâ–„â–„[38;5;240;48;5;240mâ–„[38;5;59;48;5;59mâ–„[38;5;59;48;5;241mâ–„[38;5;241;48;5;241mâ–„[38;5;241;48;5;242mâ–„[38;5;241;48;5;241mâ–„â–„â–„â–„[38;5;138;48;5;242mâ–„[38;5;223;48;5;180mâ–„[38;5;223;48;5;223mâ–„â–„â–„[38;5;181;48;5;223mâ–„[38;5;180;48;5;181mâ–„[38;5;144;48;5;180mâ–„[38;5;137;48;5;101mâ–„[38;5;180;48;5;173mâ–„[38;5;216;48;5;216mâ–„[38;5;180;48;5;180mâ–„[38;5;131;48;5;137mâ–„[38;5;95;48;5;95mâ–„[38;5;239;48;5;95mâ–„â–„[38;5;239;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;131;48;5;137mâ–„[38;5;180;48;5;180mâ–„[38;5;174;48;5;180mâ–„[38;5;239;48;5;137mâ–„[38;5;237;48;5;95mâ–„â–„[38;5;238;48;5;137mâ–„[38;5;95;48;5;173mâ–„[38;5;95;48;5;131mâ–„[38;5;237;48;5;237mâ–„[38;5;95;48;5;239mâ–„â–„[38;5;59;48;5;239mâ–„[38;5;240;48;5;239mâ–„[38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[m\r
[38;5;239;48;5;239mâ–„[38;5;239;48;5;240mâ–„[38;5;240;48;5;240mâ–„â–„[38;5;59;48;5;59mâ–„â–„[38;5;240;48;5;59mâ–„[38;5;239;48;5;240mâ–„â–„[38;5;240;48;5;59mâ–„[38;5;242;48;5;242mâ–„[38;5;180;48;5;144mâ–„[38;5;180;48;5;223mâ–„[38;5;138;48;5;180mâ–„â–„[38;5;137;48;5;180mâ–„â–„â–„[38;5;138;48;5;138mâ–„[38;5;174;48;5;138mâ–„[38;5;180;48;5;180mâ–„[38;5;217;48;5;223mâ–„[38;5;223;48;5;223mâ–„[38;5;223;48;5;180mâ–„[38;5;180;48;5;137mâ–„[38;5;137;48;5;95mâ–„[38;5;137;48;5;239mâ–„[38;5;137;48;5;95mâ–„[38;5;174;48;5;131mâ–„[38;5;181;48;5;137mâ–„[38;5;224;48;5;223mâ–„[38;5;180;48;5;174mâ–„[38;5;239;48;5;236mâ–„[38;5;238;48;5;236mâ–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;95;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;95;48;5;238mâ–„[38;5;144;48;5;137mâ–„[38;5;144;48;5;144mâ–„[38;5;144;48;5;138mâ–„[38;5;137;48;5;241mâ–„[38;5;240;48;5;240mâ–„[38;5;240;48;5;239mâ–„[38;5;239;48;5;239mâ–„â–„â–„[48;5;239m [38;5;239;48;5;239mâ–„â–„â–„â–„â–„â–„â–„[m\r
[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„[38;5;239;48;5;240mâ–„â–„â–„â–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;240;48;5;240mâ–„[38;5;242;48;5;243mâ–„[38;5;144;48;5;180mâ–„[38;5;180;48;5;180mâ–„[38;5;137;48;5;138mâ–„[38;5;101;48;5;137mâ–„â–„[38;5;137;48;5;137mâ–„[38;5;101;48;5;137mâ–„[38;5;137;48;5;137mâ–„â–„[38;5;174;48;5;180mâ–„[38;5;216;48;5;216mâ–„[38;5;216;48;5;217mâ–„[38;5;217;48;5;223mâ–„[38;5;223;48;5;223mâ–„â–„[38;5;217;48;5;216mâ–„[38;5;216;48;5;180mâ–„[38;5;223;48;5;180mâ–„[38;5;223;48;5;223mâ–„[38;5;223;48;5;224mâ–„[38;5;216;48;5;217mâ–„[38;5;174;48;5;137mâ–„[38;5;174;48;5;131mâ–„[38;5;174;48;5;95mâ–„â–„[38;5;174;48;5;137mâ–„[38;5;95;48;5;239mâ–„[38;5;95;48;5;101mâ–„[38;5;137;48;5;138mâ–„[38;5;137;48;5;137mâ–„[38;5;137;48;5;138mâ–„[38;5;137;48;5;137mâ–„[38;5;95;48;5;59mâ–„[38;5;240;48;5;240mâ–„â–„[38;5;239;48;5;240mâ–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;238;48;5;239mâ–„â–„â–„[m\r
[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;239;48;5;239mâ–„[38;5;59;48;5;242mâ–„[38;5;101;48;5;138mâ–„â–„[38;5;101;48;5;101mâ–„[38;5;95;48;5;95mâ–„[38;5;240;48;5;95mâ–„[38;5;239;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„[38;5;137;48;5;173mâ–„[38;5;180;48;5;180mâ–„[38;5;174;48;5;216mâ–„[38;5;180;48;5;216mâ–„â–„â–„[38;5;216;48;5;216mâ–„[38;5;216;48;5;180mâ–„[38;5;137;48;5;174mâ–„[38;5;95;48;5;174mâ–„â–„â–„[38;5;137;48;5;174mâ–„[38;5;174;48;5;180mâ–„[38;5;180;48;5;216mâ–„[38;5;174;48;5;216mâ–„[38;5;173;48;5;174mâ–„[38;5;239;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„[38;5;95;48;5;101mâ–„[38;5;95;48;5;137mâ–„[38;5;137;48;5;137mâ–„[38;5;101;48;5;101mâ–„[38;5;239;48;5;240mâ–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;238mâ–„â–„â–„[38;5;237;48;5;237mâ–„â–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„[m\r
[38;5;238;48;5;238mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[38;5;239;48;5;240mâ–„[38;5;242;48;5;95mâ–„[38;5;95;48;5;101mâ–„[38;5;239;48;5;95mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;236;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;137;48;5;137mâ–„[38;5;174;48;5;180mâ–„[38;5;174;48;5;173mâ–„[38;5;180;48;5;180mâ–„â–„[38;5;174;48;5;216mâ–„[38;5;174;48;5;217mâ–„[38;5;174;48;5;223mâ–„[38;5;174;48;5;180mâ–„[38;5;174;48;5;137mâ–„[38;5;95;48;5;95mâ–„[38;5;131;48;5;95mâ–„[38;5;137;48;5;137mâ–„[38;5;173;48;5;174mâ–„â–„[38;5;137;48;5;173mâ–„[38;5;95;48;5;131mâ–„[38;5;237;48;5;238mâ–„[38;5;240;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„[38;5;101;48;5;101mâ–„[38;5;95;48;5;95mâ–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„â–„â–„â–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[48;5;239m [m\r
[38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;238mâ–„[48;5;238m [38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„â–„â–„â–„â–„[38;5;240;48;5;240mâ–„[38;5;240;48;5;59mâ–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;238mâ–„â–„[38;5;236;48;5;237mâ–„[38;5;235;48;5;236mâ–„â–„[38;5;95;48;5;95mâ–„[38;5;137;48;5;173mâ–„[38;5;173;48;5;173mâ–„[38;5;180;48;5;180mâ–„â–„[38;5;180;48;5;137mâ–„[38;5;180;48;5;131mâ–„[38;5;174;48;5;131mâ–„[38;5;137;48;5;131mâ–„[38;5;131;48;5;131mâ–„â–„[38;5;95;48;5;95mâ–„[38;5;95;48;5;131mâ–„[38;5;137;48;5;137mâ–„â–„[38;5;131;48;5;131mâ–„[38;5;238;48;5;238mâ–„[38;5;236;48;5;237mâ–„[38;5;239;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„â–„[38;5;239;48;5;59mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„â–„â–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„[38;5;239;48;5;239mâ–„[m\r
[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;239;48;5;239mâ–„[38;5;240;48;5;239mâ–„[38;5;240;48;5;240mâ–„[38;5;240;48;5;239mâ–„â–„â–„[38;5;239;48;5;239mâ–„[38;5;239;48;5;240mâ–„[38;5;240;48;5;240mâ–„[38;5;240;48;5;239mâ–„[38;5;240;48;5;238mâ–„[38;5;239;48;5;236mâ–„[38;5;238;48;5;236mâ–„[38;5;239;48;5;236mâ–„â–„[38;5;238;48;5;236mâ–„[38;5;237;48;5;237mâ–„[38;5;239;48;5;95mâ–„[38;5;137;48;5;173mâ–„[38;5;180;48;5;180mâ–„[38;5;216;48;5;180mâ–„[38;5;223;48;5;216mâ–„â–„[38;5;216;48;5;180mâ–„[38;5;216;48;5;173mâ–„[38;5;180;48;5;137mâ–„â–„[38;5;173;48;5;137mâ–„â–„[38;5;137;48;5;137mâ–„[38;5;131;48;5;131mâ–„[38;5;238;48;5;95mâ–„[38;5;235;48;5;236mâ–„[38;5;236;48;5;236mâ–„[38;5;236;48;5;237mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;240mâ–„â–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„â–„â–„â–„â–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„[38;5;239;48;5;239mâ–„â–„â–„[m\r
[38;5;238;48;5;238mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„[38;5;240;48;5;239mâ–„[38;5;240;48;5;240mâ–„[38;5;240;48;5;59mâ–„â–„[38;5;239;48;5;240mâ–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„[38;5;239;48;5;240mâ–„[38;5;240;48;5;240mâ–„â–„â–„[38;5;238;48;5;59mâ–„[38;5;236;48;5;59mâ–„[38;5;239;48;5;239mâ–„[38;5;95;48;5;238mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;239mâ–„[38;5;238;48;5;137mâ–„[38;5;239;48;5;180mâ–„[38;5;137;48;5;180mâ–„[38;5;137;48;5;216mâ–„[38;5;137;48;5;180mâ–„â–„[38;5;173;48;5;180mâ–„â–„â–„[38;5;137;48;5;173mâ–„[38;5;95;48;5;137mâ–„[38;5;240;48;5;95mâ–„[38;5;239;48;5;237mâ–„[38;5;237;48;5;235mâ–„[38;5;236;48;5;236mâ–„[38;5;237;48;5;236mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;238;48;5;237mâ–„â–„â–„â–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;237mâ–„[38;5;239;48;5;238mâ–„â–„â–„â–„â–„[38;5;239;48;5;239mâ–„[m\r
[38;5;237;48;5;237mâ–„â–„[38;5;238;48;5;238mâ–„â–„[38;5;238;48;5;239mâ–„â–„â–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;238mâ–„â–„[38;5;238;48;5;238mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;239mâ–„â–„[38;5;235;48;5;237mâ–„[38;5;234;48;5;234mâ–„[38;5;234;48;5;235mâ–„[38;5;95;48;5;239mâ–„[38;5;137;48;5;137mâ–„[38;5;95;48;5;95mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;237mâ–„â–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;95mâ–„â–„â–„â–„[38;5;239;48;5;95mâ–„[38;5;237;48;5;95mâ–„[38;5;234;48;5;239mâ–„[38;5;237;48;5;240mâ–„[38;5;239;48;5;239mâ–„[48;5;239m [38;5;239;48;5;239mâ–„â–„[38;5;239;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„â–„â–„â–„â–„[38;5;238;48;5;239mâ–„â–„[38;5;238;48;5;240mâ–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„[38;5;238;48;5;239mâ–„[m\r
[38;5;237;48;5;237mâ–„â–„â–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;237mâ–„â–„[38;5;236;48;5;236mâ–„â–„[38;5;234;48;5;234mâ–„[38;5;233;48;5;233mâ–„[38;5;236;48;5;235mâ–„[38;5;137;48;5;95mâ–„[38;5;137;48;5;137mâ–„â–„[38;5;95;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„â–„[38;5;239;48;5;238mâ–„â–„[38;5;95;48;5;239mâ–„â–„[38;5;95;48;5;95mâ–„â–„[38;5;236;48;5;237mâ–„[38;5;232;48;5;233mâ–„[38;5;232;48;5;234mâ–„[38;5;234;48;5;237mâ–„[38;5;238;48;5;239mâ–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„â–„â–„[38;5;238;48;5;238mâ–„â–„â–„â–„[38;5;238;48;5;237mâ–„[38;5;237;48;5;237mâ–„â–„â–„[38;5;237;48;5;238mâ–„â–„[38;5;238;48;5;238mâ–„â–„â–„[48;5;238m [m\r
[38;5;238;48;5;237mâ–„â–„â–„[38;5;238;48;5;238mâ–„â–„â–„â–„â–„â–„â–„[38;5;237;48;5;237mâ–„â–„â–„â–„[38;5;237;48;5;236mâ–„[38;5;236;48;5;236mâ–„[38;5;235;48;5;234mâ–„â–„[38;5;95;48;5;239mâ–„[38;5;137;48;5;137mâ–„â–„â–„â–„[38;5;95;48;5;95mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;239;48;5;239mâ–„[38;5;95;48;5;95mâ–„â–„â–„â–„[38;5;239;48;5;95mâ–„[38;5;234;48;5;235mâ–„[38;5;232;48;5;232mâ–„â–„[38;5;232;48;5;233mâ–„[38;5;234;48;5;236mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„[48;5;238m [38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;238mâ–„â–„â–„â–„[38;5;237;48;5;237mâ–„â–„â–„â–„â–„â–„â–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„[48;5;238m [m\r
[38;5;238;48;5;238mâ–„[38;5;238;48;5;237mâ–„[38;5;238;48;5;238mâ–„[38;5;239;48;5;238mâ–„â–„â–„â–„â–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;236;48;5;237mâ–„[38;5;236;48;5;236mâ–„â–„[38;5;236;48;5;237mâ–„[38;5;236;48;5;236mâ–„â–„[38;5;235;48;5;235mâ–„â–„[38;5;95;48;5;95mâ–„[38;5;137;48;5;137mâ–„â–„â–„â–„â–„[38;5;95;48;5;95mâ–„[38;5;239;48;5;238mâ–„[38;5;239;48;5;239mâ–„[38;5;239;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„[38;5;239;48;5;95mâ–„[38;5;238;48;5;238mâ–„[38;5;233;48;5;233mâ–„[38;5;232;48;5;232mâ–„â–„[38;5;233;48;5;232mâ–„[38;5;233;48;5;233mâ–„[38;5;233;48;5;234mâ–„[38;5;233;48;5;235mâ–„[38;5;235;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„[48;5;237m [38;5;237;48;5;237mâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–„[38;5;238;48;5;238mâ–„â–„[m\r
[38;5;137;48;5;239mâ–„[38;5;101;48;5;240mâ–„[38;5;137;48;5;239mâ–„[38;5;101;48;5;239mâ–„[38;5;95;48;5;239mâ–„[38;5;59;48;5;239mâ–„[38;5;238;48;5;239mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„[38;5;236;48;5;237mâ–„[38;5;235;48;5;236mâ–„[38;5;234;48;5;235mâ–„[38;5;235;48;5;236mâ–„â–„â–„[38;5;235;48;5;235mâ–„â–„â–„[38;5;239;48;5;95mâ–„[38;5;95;48;5;137mâ–„â–„â–„â–„â–„[38;5;95;48;5;95mâ–„â–„[38;5;239;48;5;239mâ–„â–„[38;5;238;48;5;239mâ–„â–„[38;5;238;48;5;238mâ–„[38;5;236;48;5;237mâ–„[38;5;233;48;5;233mâ–„[38;5;232;48;5;232mâ–„â–„[48;5;233m [38;5;232;48;5;233mâ–„[38;5;233;48;5;233mâ–„â–„[38;5;233;48;5;234mâ–„[38;5;234;48;5;234mâ–„[38;5;234;48;5;236mâ–„[38;5;235;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;238;48;5;237mâ–„[38;5;237;48;5;237mâ–„â–„â–„â–„â–„â–„[38;5;238;48;5;238mâ–„â–„â–„[m\r
[38;5;137;48;5;137mâ–„[38;5;101;48;5;137mâ–„[38;5;95;48;5;137mâ–„[38;5;239;48;5;137mâ–„[38;5;238;48;5;95mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„â–„â–„[38;5;236;48;5;236mâ–„â–„[38;5;235;48;5;234mâ–„[38;5;233;48;5;234mâ–„â–„[38;5;234;48;5;234mâ–„â–„â–„â–„[38;5;235;48;5;236mâ–„[38;5;238;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„â–„[38;5;239;48;5;95mâ–„[38;5;238;48;5;239mâ–„[38;5;238;48;5;238mâ–„â–„â–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„[38;5;236;48;5;236mâ–„[38;5;233;48;5;233mâ–„[38;5;232;48;5;232mâ–„â–„[38;5;233;48;5;233mâ–„[38;5;233;48;5;232mâ–„[38;5;233;48;5;233mâ–„â–„[38;5;234;48;5;233mâ–„[38;5;234;48;5;234mâ–„â–„â–„[38;5;234;48;5;235mâ–„[38;5;234;48;5;236mâ–„[38;5;235;48;5;237mâ–„[38;5;236;48;5;237mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;238;48;5;237mâ–„[38;5;237;48;5;237mâ–„[38;5;238;48;5;238mâ–„â–„â–„[48;5;238m [m\r
[38;5;239;48;5;95mâ–„[38;5;238;48;5;240mâ–„[38;5;238;48;5;238mâ–„â–„[38;5;237;48;5;238mâ–„[48;5;237m [38;5;237;48;5;237mâ–„â–„â–„[38;5;236;48;5;236mâ–„[38;5;235;48;5;236mâ–„[38;5;234;48;5;234mâ–„[38;5;234;48;5;233mâ–„[38;5;233;48;5;233mâ–„â–„[38;5;233;48;5;234mâ–„[38;5;233;48;5;233mâ–„[38;5;233;48;5;234mâ–„[38;5;234;48;5;234mâ–„[38;5;234;48;5;235mâ–„[38;5;237;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„[38;5;95;48;5;239mâ–„[38;5;239;48;5;238mâ–„[38;5;238;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;237;48;5;237mâ–„â–„[38;5;238;48;5;237mâ–„[38;5;236;48;5;237mâ–„[38;5;232;48;5;232mâ–„[38;5;0;48;5;232mâ–„[38;5;232;48;5;232mâ–„[38;5;233;48;5;233mâ–„[38;5;234;48;5;233mâ–„[38;5;234;48;5;234mâ–„[38;5;233;48;5;233mâ–„[38;5;233;48;5;234mâ–„[38;5;234;48;5;234mâ–„[38;5;234;48;5;235mâ–„â–„[38;5;234;48;5;234mâ–„[48;5;234m [38;5;234;48;5;234mâ–„â–„[38;5;234;48;5;235mâ–„[38;5;235;48;5;236mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„â–„â–„[m\r
[38;5;236;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„[38;5;238;48;5;237mâ–„[38;5;237;48;5;237mâ–„â–„â–„[38;5;234;48;5;237mâ–„[38;5;235;48;5;235mâ–„[38;5;236;48;5;235mâ–„[38;5;236;48;5;236mâ–„[38;5;235;48;5;235mâ–„[38;5;234;48;5;234mâ–„[38;5;235;48;5;235mâ–„[38;5;233;48;5;232mâ–„[38;5;232;48;5;233mâ–„[38;5;233;48;5;233mâ–„â–„[38;5;233;48;5;234mâ–„[38;5;233;48;5;233mâ–„[38;5;233;48;5;234mâ–„[38;5;234;48;5;239mâ–„[38;5;237;48;5;95mâ–„[38;5;95;48;5;95mâ–„â–„â–„[38;5;95;48;5;239mâ–„[38;5;95;48;5;238mâ–„[38;5;239;48;5;237mâ–„[38;5;95;48;5;238mâ–„[38;5;237;48;5;238mâ–„[38;5;234;48;5;235mâ–„[38;5;232;48;5;232mâ–„[38;5;232;48;5;0mâ–„[38;5;232;48;5;232mâ–„[38;5;233;48;5;233mâ–„[38;5;234;48;5;234mâ–„â–„â–„[38;5;232;48;5;233mâ–„[38;5;234;48;5;234mâ–„â–„[38;5;233;48;5;234mâ–„[38;5;234;48;5;234mâ–„â–„â–„[38;5;235;48;5;235mâ–„[38;5;234;48;5;235mâ–„[38;5;234;48;5;234mâ–„[38;5;235;48;5;236mâ–„[38;5;237;48;5;238mâ–„[38;5;238;48;5;238mâ–„â–„â–„â–„â–„[m\r
`



const screen = blessed.screen({
  fastCSR: true,
  dockBorders: true,
  fullUnicode: true
});
var thing = chalk.blue('Hello') + ' World' + chalk.red('!') 
var grid = new BlessedContrib.grid({rows: 12, cols: 12, screen: screen})



 
screen.title = 'my window title';

const opts = {
  shell:         null,//process.env.SHELL || "sh",
  args:          [],
  env:           process.env,
  cwd:           process.cwd(),
  cursorType:    "block",
  border:        "line",
  scrollback:    1000,
  style: {
      fg:        "default",
      bg:        "default",
      border:    { fg: "default" },
      focus:     { border: { fg: "green" } },
      scrolling: { border: { fg: "red" } }
  }
}

var XTermThing = new XTerm(Object.assign({}, opts, {
  left:    0,
  top:     0,
  width:   Math.floor(screen.width / 2),
  height:  screen.height,
  label:   "Screen"}))

screen.append(XTermThing)
screen.render()



 
var logs = grid.set(6,6,6,6,blessed.box,{
  tags: true,
  label: 'log',
  alwaysScroll: 'true',
  scrollable: 'true',
  scrollbars: 'true',
  scrollbar: {
    ch: ' ',
    track: {
      bg: 'blue'
    },
    style: {
      inverse: true
    }
  },
  keys: true,
  border: {
    type: 'line'
  },
  style: {
    border: {
      fg: '#f0f0f0'
    },
    hover: {
      bg: 'green'
    }
  }
});

// var terms= grid.set(0,0,12,6, blessed.terminal,{ //more usefull for writing ascii
//   parent: screen,
//   border: 'line',
//   tags: true,
//   scrollable: true,
//   label: '{bold}screen{/bold}',
//   handler: function() {},
// });

var stats=grid.set(0,9,6,1,blessed.box,{
  tags: true,
  scrollable: true,
  label: '{bold}stats{/bold}',
  content: 'str:4\ncon:5\ndex:4\n',
  border: {
    type: 'line'
  },
  style: {
    border: {
      fg: '#f0f0f0'
    },
    hover: {
      bg: 'green'
    }
  }})

var actions=grid.set(0,10,6,2,blessed.list,{
  tags: true,
  scrollable: true,
  label: '{bold}actions{/bold}',
  content: thing,
  border: {
    type: 'line'
  },
  style: {
    border: {
      fg: '#f0f0f0'
    },
    hover: {
      bg: 'green'
    }
  }})




 
// Quit on Escape, q, or Control-C.
screen.key(['escape', 'q', 'C-c'], function(ch, key) {
  return process.exit(0);
});
 


var form_thing=grid.set(0,6,6,3,blessed.form = blessed.form,({
  parent: screen,
  keys: true,
  label: "actions",
  bg: 'magenta',
  content: 'test?'
}));

screen.render()

// event reader
// multiple functions, exuction may differ based on event type


var temp_event1=new game_event(1,body,{1:'goto 1(recursive)',2:'goto 2',3:'goto 3'})


var temp_event2=new game_event(2,chalk.blue("event2"),{1:"goto 1"})
var temp_event2=new game_event({id:3,body:chalk.blue("event3"),buttons:{2:"goto 2"}})


var submit = blessed.button({
  parent: form_thing,
  mouse: true,
  keys: true,
  shrink: true,
  padding: {
    left: 1,
    right: 1
  },
  left: 10,
  top: 2,
  shrink: true,
  name: 'submit',
  content: 'submit',
  style: {
    bg: 'blue',
    focus: {
      bg: 'red'
    },
    hover: {
      bg: 'red'
    }
  }
});

var cancel = blessed.button({
  parent: form_thing,
  mouse: true,
  keys: true,
  shrink: true,
  padding: {
    left: 1,
    right: 1
  },
  left: 20,
  top: 2,
  shrink: true,
  name: 'cancel',
  content: 'cancel',
  style: {
    bg: 'blue',
    focus: {
      bg: 'red'
    },
    hover: {
      bg: 'red'
    }
  }
});

submit.on('press', function() {
  form_thing.submit();
});

cancel.on('press', function() {
  form_thing.reset();
});

form_thing.on('submit', function(data) {
  form_thing.setContent('Submitted.');
  logs.setContent(temp_event1.body)
  XTermThing.term.clear()
  XTermThing.write(body)
  screen.render();
  logs.focus()
});

form_thing.on('reset', function(data) {
  form_thing.setContent('Canceled.');
  screen.render();
});

screen.key('q', function() {
  process.exit(0);
});

form_thing.focus()

screen.key('p', function() {
  screen.focusNext();
});
//terms.term.write(caleb)
XTermThing.write(caleb)
//terms.term.write(gradient('cyan', 'red')('helllllllllllooooo world!'));

// handling creating of buttons from an event. writing body etc

//setInterval(function () {console.log(temp_event1.body)}, 10);
